(this.webpackJsonpjapp=this.webpackJsonpjapp||[]).push([[0],{12:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),l=a.n(c),o=(a(12),a(1)),i=function(e){var t=e.name,a=e.extraClasses,n=void 0===a?"":a,c="material-icons";return n&&(c+=" "+n),r.a.createElement("i",{className:c},t)},s={0:"new",1:"sent application",2:"interview in progress",3:"coding in progress",4:"received offer",5:"accepted offer",6:"got rejected",7:"rejected further process",8:"rejected offer",9:"pending"},u=function(e){var t=e.statusNumber,a=e.statusText,n=void 0===a?"":a,c=e.toggleCallback,l={0:r.a.createElement(i,{name:"stop_circle",extraClasses:"purple"}),1:r.a.createElement(i,{name:"forward_to_inbox",extraClasses:"orange"}),2:r.a.createElement(i,{name:"call",extraClasses:"orange"}),3:r.a.createElement(i,{name:"code",extraClasses:"orange"}),4:r.a.createElement(i,{name:"check_circle",extraClasses:"orange"}),5:r.a.createElement(i,{name:"check_circle",extraClasses:"green"}),6:r.a.createElement(i,{name:"cancel",extraClasses:"red"}),7:r.a.createElement(i,{name:"pan_tool",extraClasses:"red"}),8:r.a.createElement(i,{name:"check_circle",extraClasses:"red"}),9:r.a.createElement(i,{name:"pending",extraClasses:"orange"})},o=n||s[t];return r.a.createElement("span",{className:"status-indicator",onClick:c},l[t],r.a.createElement("h4",null,o))},m=function(e,t){return e+t},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{if("object"!==typeof e)throw new Error("'rating' input parameter must be an object.");if(0===Object.keys(e).length)throw new Error("'rating' input parameter must not be empty.");var a=Object.values(e),n=a.reduce(m);if("number"!==typeof n)throw new Error("Result of summing up rating values is not a number.");var r=n/a.length;return!Number.isInteger(t)||Math.sign(t)<0?(console.error("'decimals' input parameter was no positive integer. Used default value 2 instead."),r.toFixed(2)):r.toFixed(t)}catch(c){return console.error(c),"error"}},b=function(e){var t=e.job,a=e.toggleCallback,n=r.a.createElement(i,{name:"keyboard_arrow_down"}),c=r.a.createElement("h3",null,t.title," @ ",t.company),l=r.a.createElement(u,{statusNumber:t.status,statusText:t.statusText}),o=r.a.createElement("span",null,r.a.createElement(i,{name:"star_rate",extraClasses:"orange"}),r.a.createElement("h4",null,d(t.rating)));return r.a.createElement("div",{className:"job-item-preview top-pane",onClick:function(){0===window.getSelection().toString().length&&a()}},n,c,l,o)},f=a(3),p=a.n(f),E=function(e){var t,a=e.rating,n=e.iconName,c=void 0===n?"star_rate":n,l=(t=a,Math.round(t/2));return r.a.createElement("div",{className:"rating-display"},p.a.times(l,(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(i,{key:e,name:c,extraClasses:"colored"})}("i_c"+e)})),p.a.times(5-l,(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return r.a.createElement(i,{key:e,name:c,extraClasses:"uncolored"})}("i_uc"+e)})))},g=/^(\/)([0-9]{1,4})$/,v=function(e){console.error(e),alert(e)},h={load:function(){try{var e=JSON.parse(localStorage.getItem("japp"));return void 0==e||null==e?function(){try{localStorage.setItem("japp",JSON.stringify([])),console.log("No database under '".concat("japp","' key. Created new database under that key."))}catch(e){v(e)}}():e}catch(t){v(t)}},save:function(e){try{localStorage.setItem("japp",JSON.stringify(e))}catch(t){v(t)}}},y=function(e){return"number"!==typeof e?(console.error("Validation of index failed: not a number."),!1):Number.isInteger(e)?!(e<0)||(console.error("Validation of index failed: index less than 0"),!1):(console.error("Validation of index failed: not an integer."),!1)},j={getDatabase:function(){try{return h.load()}catch(e){v(e)}},getDatabaseEntry:function(e){try{if(!function(e){return g.test(e)}(e))throw new Error("Invalid id path for database entry");var t=parseInt(e.slice(1));if(!y(t))throw new Error("Invalid index");var a=h.load()[t];if(!a)throw new Error("No entry found at given index");return a}catch(n){v(n)}},appendToDatabase:function(e){try{if("object"!==typeof e)throw new Error("New database entries have to be objects.");var t=h.load();t.push(e),h.save(t)}catch(a){v(a)}},updateEntry:function(e,t){try{if("object"!==typeof t)throw new Error("Database object passed in parameters is invalid.");if(!y(e))throw new Error("Invalid index");var a=h.load();a.splice(e,1,t),h.save(a)}catch(n){v(n)}},deleteFromDatabase:function(e){try{if(!y(e))throw new Error("Invalid index");var t=h.load();t.splice(e,1),h.save(t)}catch(a){v(a)}}},w={updateStatus:function(e,t){try{if(!y(e))throw new Error("Invalid index"+e);if(n=t,!Object.keys(s).includes(n)&&(console.error("Validation of status failed: unknown status number"),1))throw new Error("Invalid status");var a=j.getDatabaseEntry("/"+e);a.status=t,j.updateEntry(e,a)}catch(r){v(r)}var n}},C={get:function(e){switch(e){case"/":return j.getDatabase;default:return j.getDatabaseEntry(e)}},post:function(e,t){switch(e){case"/":return j.appendToDatabase(t)}},put:function(e,t,a){switch(e){case"/":return j.updateEntry(t,a);case"/status":return w.updateStatus(t,a)}},delete:function(e,t){switch(e){case"/":return j.deleteFromDatabase(t)}}},k=function(e){var t=e.itemKey,a=e.updateCallback,n=r.a.createElement("option",{key:"-1",value:"-1"},"select status ... "),c=r.a.createElement(r.a.Fragment,null,Object.entries(s).map((function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return r.a.createElement("option",{key:a,value:a},n)})));return r.a.createElement("div",{className:"status-dropdown"},r.a.createElement("select",{name:"status-dropdown-select",id:"status-dropdown=select",onChange:function(e){return function(e){var n=e.target.options[e.target.selectedIndex].value;C.put("/status",t,n),a()}(e)}},n,c))},O=function(e){var t,a=e.statusNumber,c=void 0===a?0:a,l=e.itemKey,i=e.updateCallback,s=Object(n.useState)(!1),m=Object(o.a)(s,2),d=m[0],b=m[1],f=function(){return b(!d)};return t=d?r.a.createElement(k,{itemKey:l,updateCallback:function(){i(),f()}}):r.a.createElement(u,{statusNumber:c,toggleCallback:f}),r.a.createElement("span",{className:"status-toggle"},t)},x=function(e){var t=e.job,a=e.itemKey,n=e.toggleCallback,c=e.editModeCallback,l=e.updateCallback,s=d(t.rating,2),u=function(){0===window.getSelection().toString().length&&n()},m=r.a.createElement("span",{onClick:function(){return u()}},r.a.createElement(i,{name:"keyboard_arrow_up"})),b=r.a.createElement("h3",{onClick:function(){return u()}},t.title," @ ",t.company),f=r.a.createElement(O,{statusNumber:t.status,itemKey:a,updateCallback:l}),p=r.a.createElement(r.a.Fragment,null,m,b,f),g=r.a.createElement("div",{className:"subheader"},r.a.createElement(i,{name:"location_on",extraClasses:"blue"})," ",t.location,r.a.createElement(i,{name:"hourglass_top",extraClasses:"green"})," ",t.timeModel),v=r.a.createElement("div",{className:"specs"},r.a.createElement("div",null,r.a.createElement(i,{name:"list_alt",extraClasses:"purple"})," ",t.contractTerm),r.a.createElement("div",null,r.a.createElement(i,{name:"attach_money",extraClasses:"green"})," ",t.salary)),h=r.a.createElement("p",null,r.a.createElement(i,{name:"rate_review",extraClasses:"blue"}),t.notes),y=r.a.createElement("h3",null,"Rating"),j=r.a.createElement(r.a.Fragment,null,Object.entries(t.rating).map((function(e,t){var a=Object(o.a)(e,2),n=a[0],c=a[1];return r.a.createElement("div",{key:t},r.a.createElement("strong",null,n,": "),r.a.createElement(E,{rating:c}),r.a.createElement("span",null," (",c,")"))}))),w=r.a.createElement("div",null,r.a.createElement("strong",null,"Total: "),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{rating:s}),r.a.createElement("strong",null," (",s,")"))),k=r.a.createElement("div",{className:"rating"},y,j,w),x=r.a.createElement("button",{className:"item-edit-btn",type:"submit",onClick:function(){c(a,t)}},"Edit Item"),N=r.a.createElement("button",{className:"item-delete-btn",type:"submit",onClick:function(){window.confirm("Do you really want to delete the current job item? It cannot be undone.")&&(C.delete("/",a),l())}},"Delete Item"),I=r.a.createElement(r.a.Fragment,null,x,N);return r.a.createElement("div",{className:"job-item-detail-view"},r.a.createElement("div",{className:"top-pane"},p),r.a.createElement("div",{className:"main-pane"},g,v,h,k),r.a.createElement("div",{className:"bottom-pane"},I))},N=function(e){var t=e.job,a=e.itemKey,c=e.editModeCallback,l=e.updateCallback,i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=function(){return m(!u)};return u?r.a.createElement(x,{job:t,itemKey:a,toggleCallback:d,editModeCallback:c,updateCallback:function(){return l()}}):r.a.createElement(b,{job:t,toggleCallback:d})},I=function(e){var t,a=e.jobs,n=e.updateCallback,c=e.editModeCallback;return t=a&&0!==a.length?a.map((function(e,t){return r.a.createElement(N,{job:e,key:t,itemKey:t,editModeCallback:c,updateCallback:function(){return n()}})})):r.a.createElement("span",{className:"centered"},"no job items"),r.a.createElement("div",{className:"job-list"},t)},S=a(2),_=a(4),F=function(e){var t,a=e.currentIndex,n=void 0===a?0:a,c=e.maxIndex,l=void 0===c?0:c,o=e.iconName,s=void 0===o?"stop_circle":o,u=e.finishedIndexColor,m=void 0===u?"green":u,d=e.activeIndexColor,b=void 0===d?"blue":d,f=e.inactiveIndexColor,E=void 0===f?"gray":f;return r.a.createElement("div",{className:"step-visualizer"},p.a.times(n,(function(e){return function(e){return r.a.createElement(i,{key:"fi"+e,name:s,extraClasses:m})}(e)})),(t=0,r.a.createElement(i,{key:"ai"+t,name:s,extraClasses:b})),p.a.times(l-n,(function(e){return function(e){return r.a.createElement(i,{key:"ii"+e,name:s,extraClasses:E})}(e)})))},D=function(e){var t=e.children,a=e.initialIndex,c=void 0===a?0:a,l=e.setIsFinalStep,s=Object(n.useState)(c),u=Object(o.a)(s,2),m=u[0],d=u[1],b=r.a.Children.count(t)-1;Object(n.useEffect)((function(){l(m===b)}),[m]);var f=r.a.createElement(F,{currentIndex:m,maxIndex:b}),p=r.a.createElement(r.a.Fragment,null,t[m]),E=r.a.createElement("button",{onClick:function(){return d(m-1)}},r.a.createElement(i,{name:"keyboard_arrow_left"})),g=r.a.createElement("button",{onClick:function(){return d(m+1)}},r.a.createElement(i,{name:"keyboard_arrow_right"})),v=r.a.createElement("div",{className:"step-divider-btns"},m>0&&E,m<b&&g);return r.a.createElement("div",{className:"step-divider"},f,p,v)},A=function(e){var t=e.label,a=e.inKey,n=e.value,c=e.handleChangeCb;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:a},t),r.a.createElement("input",{key:a,type:"text",name:a,value:n,onChange:function(e){return c(e)}}))},K=/^([A-Za-z]{1,50}:(0|1)?[0-9])$/,M=function(e){var t=e.previousRating,a=e.sendData,c=Object(n.useState)(""),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object.keys(t).length>0;Object(n.useEffect)((function(){if(u){var e="";Object.entries(t).forEach((function(t){var a=Object(o.a)(t,2),n=a[0],r=a[1];e+=n+":"+r+"\n"})),s(e.slice(0,e.length-1))}}),[]);var m=function(){return i.split("\n").every((function(e){return K.test(e)}))},d=r.a.createElement("label",{htmlFor:"job-rating-input"},"Add a rating"),b=r.a.createElement("textarea",{name:"job-rating-input",id:"job-rating-input",cols:"30",rows:"10",onChange:function(e){return function(e){s(e.target.value)}(e)},value:i}),f=r.a.createElement("p",null,"Please enter your rating items in the form ",r.a.createElement("strong",null,"'category:rating'"),", where ",r.a.createElement("strong",null,"category")," can be an alphabetic name for anything you want to rate, and ",r.a.createElement("strong",null,"rating")," is an integer from 0 to 10. Separate each item with a ",r.a.createElement("strong",null,"new line"),"."),p=r.a.createElement("button",{type:"submit",onClick:function(){return function(){try{if(!m())throw new Error("invalid rating");var e=i.split("\n"),t={};e.forEach((function(e){var a=e.split(":"),n=Object(o.a)(a,2),r=n[0],c=n[1];t[r]=parseInt(c)})),a(t),alert("Saved valid rating")}catch(n){console.log(n),alert("Oops, something went wrong. "+n)}}()}},"Save rating");return r.a.createElement("div",{className:"job-rating-item"},d,b,f,p)},J=[["Title","Company","Location"],["Time Model","Contract Term","Salary"],["Link","Notes"]],T=/^[A-Za-z0-9\s\-_,:.!]*$/,P=function(e){var t=e.toggleFormCallback,a=e.previousObject,c=void 0===a?{}:a,l=e.previousIndex,i=void 0===l?-1:l,s=Object(n.useState)({}),u=Object(o.a)(s,2),m=u[0],d=u[1],b=Object(n.useState)({}),f=Object(o.a)(b,2),p=f[0],E=f[1],g=Object(n.useState)(!1),v=Object(o.a)(g,2),h=v[0],y=v[1],j=function(){return"object"===typeof c&&Object.keys(c).length>0};Object(n.useEffect)((function(){j()&&(d(c),c.rating&&E(c.rating))}),[]);var w=function(e){var t=Object(_.a)({},e.target.name,e.target.value);d(Object(S.a)(Object(S.a)({},m),t))},k=function(e){var t=JSON.parse(JSON.stringify(e));return delete t.rating,Object.values(t).every((function(e){return T.test(e)}))},O=r.a.createElement("h3",null,j()?"Edit":"Add","  a job"),x=r.a.createElement(M,{previousRating:p,sendData:E}),N=r.a.createElement(D,{setIsFinalStep:y},J.map((function(e,t){return r.a.createElement("div",{key:"step-"+(t+1)},e.map((function(e){var t=function(e){try{if("string"!==typeof e)throw new Error("Input parameter is not a string.");if(""===e.trim())throw new Error("Input does not contain anything but whitespace.");var t=e.split(" ").join("");return t.charAt(0).toLowerCase()+t.slice(1)}catch(a){return console.error(a),"error"}}(e);return r.a.createElement(A,{key:e,label:e,inKey:t,value:m[t]||"",handleChangeCb:w})})),h&&x)}))),I=r.a.createElement("button",{className:"form-submit-btn",type:"submit",onClick:function(){return function(){try{if(!k(m))throw new Error("Invalid input");var e,a=Date.now(),n={createdAt:a,editedAt:a};j()?(e=Object(S.a)(Object(S.a)({},m),{},{rating:p}),C.put("/",i,e)):(e=Object(S.a)(Object(S.a)({},m),{},{status:0,rating:p},n),C.post("/",e)),t()}catch(r){alert(r),console.error(r)}}()}},"Add"),F=r.a.createElement("button",{className:"form-cancel-btn",type:"submit",onClick:function(){return t()}},"Cancel");return r.a.createElement("div",{className:"job-item-form"},O,N,r.a.createElement("div",{className:"btns"},h&&I,F))},R=function(){return r.a.createElement("div",{className:"app-header"},r.a.createElement("span",null,"JAPP"),r.a.createElement("span",null,r.a.createElement("nav",null,r.a.createElement("a",{href:"#"},"Home"),r.a.createElement("a",{href:"#about"},"About"))))},V=function(){return r.a.createElement("div",{className:"app-footer",id:"about"},r.a.createElement("p",null,"JAPP - Job Application Manager v0.1.1 (alpha)"),r.a.createElement("sub",null,"\xa92020, Michael Woei Kang Huang"))},$=(a(15),function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],l=function(){return c(C.get("/"))};Object(n.useEffect)((function(){return l()}),[]);var i=Object(n.useState)(!1),s=Object(o.a)(i,2),u=s[0],m=s[1],d=function(){return m(!u)},b=Object(n.useState)(!1),f=Object(o.a)(b,2),p=f[0],E=f[1],g=Object(n.useState)({itemKey:0,jobItem:{}}),v=Object(o.a)(g,2),h=v[0],y=v[1],j=function(){u&&(E(!1),l()),d()};return r.a.createElement("div",{className:"App"},r.a.createElement(R,null),!u&&r.a.createElement("button",{className:"job-item-form-btn",onClick:function(){return d()}},"Add a job item"),!u&&r.a.createElement(I,{jobs:a,editModeCallback:function(e,t){y({itemKey:e,jobItem:t}),E(!0),d()},updateCallback:function(){return l()}}),u&&!p&&r.a.createElement(P,{toggleFormCallback:j}),u&&p&&r.a.createElement(P,{toggleFormCallback:j,previousObject:h.jobItem,previousIndex:h.itemKey}),r.a.createElement(V,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(16)}},[[7,1,2]]]);
//# sourceMappingURL=main.0a14787f.chunk.js.map